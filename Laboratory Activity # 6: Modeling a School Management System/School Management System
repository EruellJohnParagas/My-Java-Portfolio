import java.util.ArrayList;

abstract class Device {
    private boolean isOn;

    public void turnOn() {
        isOn = true;
        System.out.println(getClass().getSimpleName() + " is now ON.");
        showStatus();
    }

    public void turnOff() {
        isOn = false;
        System.out.println(getClass().getSimpleName() + " is now OFF.");
    }

    public boolean isOn() {
        return isOn;
    }

  
    public abstract void showStatus();

   
    public static void setPowerForAll(ArrayList<Device> devices, boolean power) {
        for (Device d : devices) {
            if (power) d.turnOn();
            else d.turnOff();
        }
    }

   
    public static int countPoweredOn(ArrayList<Device> devices) {
        int count = 0;
        for (Device d : devices) {
            if (d.isOn()) count++;
        }
        return count;
    }
}

class AirConditioner extends Device {
    private int fanSpeed;
    private int temperature;

    public AirConditioner() {
        this.fanSpeed = 3;
        this.temperature = 24;
    }

    public void setFanSpeed(int fanSpeed) {
        this.fanSpeed = fanSpeed;
        System.out.println("Air Conditioner fan speed set to: " + fanSpeed);
        showStatus();
    }

    public void setTemperature(int temperature) {
        this.temperature = temperature;
        System.out.println("Air Conditioner temperature set to: " + temperature);
        showStatus();
    }

    @Override
    public void showStatus() {
        if (isOn()) {
            System.out.println("AC Status → Fan Speed: " + fanSpeed + ", Temperature: " + temperature);
        }
    }
}


class LampShade extends Device {
    private int brightness;     // percentage
    private String color;

    public LampShade(int brightness, String color) {
        this.brightness = brightness;
        this.color = color;
    }

    // Copy constructor
    public LampShade(LampShade other) {
        this.brightness = other.brightness;
        this.color = other.color;
    }

    public void setBrightness(int brightness) {
        this.brightness = brightness;
        System.out.println("Lamp brightness set to: " + brightness);
        showStatus();
    }

    public void setColor(String color) {
        this.color = color;
        System.out.println("Lamp color set to: " + color);
        showStatus();
    }

    @Override
    public void showStatus() {
        if (isOn()) {
            System.out.println("Lamp Status → Brightness: " + brightness + "%, Color: " + color);
        }
    }
}


class Television extends Device {
    private int channel;
    private int volume; // percentage

    public Television() {
        this.channel = 1;
        this.volume = 10;
    }

    public void setChannel(int channel) {
        this.channel = channel;
        System.out.println("TV channel set to: " + channel);
        showStatus();
    }

    public void setVolume(int volume) {
        this.volume = volume;
        System.out.println("TV volume set to: " + volume + "%");
        showStatus();
    }

    @Override
    public void showStatus() {
        if (isOn()) {
            System.out.println("TV Status → Channel: " + channel + ", Volume: " + volume + "%");
        }
    }
}


class Microwave extends Device {
    private int timer;        // seconds
    private int temperature;  // degrees

    public Microwave() {
        this.timer = 0;
        this.temperature = 0;
    }

    public void setTimer(int timer) {
        this.timer = timer;
        System.out.println("Microwave timer set to: " + timer + " sec");
        showStatus();
    }

    public void setTemperature(int temperature) {
        this.temperature = temperature;
        System.out.println("Microwave temperature set to: " + temperature);
        showStatus();
    }

    @Override
    public void showStatus() {
        if (isOn()) {
            System.out.println("Microwave Status → Timer: " + timer + " sec, Temperature: " + temperature);
        }
    }
}

// ======================================================
// MAIN PROGRAM
// ======================================================
public class Main {
    public static void main(String[] args) {

      
        AirConditioner ac = new AirConditioner();

        LampShade lamp1 = new LampShade(100, "Yellow");
        LampShade lamp2 = new LampShade(lamp1); 

        Television tv = new Television();
        
        Microwave microwave = new Microwave();

       
        ArrayList<Device> devices = new ArrayList<>();
        devices.add(ac);
        devices.add(lamp1);
        devices.add(lamp2);
        devices.add(tv);
        devices.add(microwave);

        
        System.out.println("\n--- Turning ALL devices ON ---");
        Device.setPowerForAll(devices, true);

       
        int poweredOnCount = Device.countPoweredOn(devices);
        System.out.println("\nDevices currently ON: " + poweredOnCount);

      
        System.out.println("\n--- Turning ALL devices OFF ---");
        Device.setPowerForAll(devices, false);
    }
}
